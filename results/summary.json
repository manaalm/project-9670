{
  "barrier_comparison": {
    "A1-A2": {
      "type": "spurious-spurious",
      "pre_id_loss_barrier": 2.48716429264769,
      "pre_ood_loss_barrier": 1.4933148259162905,
      "pre_id_acc_barrier": 0.8717999999999999,
      "pre_ood_acc_barrier": 0.5383,
      "post_id_loss_barrier": 0.7231990662835538,
      "post_ood_loss_barrier": 0.6142315550804138,
      "post_id_acc_barrier": 0.25359999999999994,
      "post_ood_acc_barrier": 0.20590000000000003
    },
    "R1-R2": {
      "type": "robust-robust",
      "pre_id_loss_barrier": 2.480421172976494,
      "pre_ood_loss_barrier": 2.2011582575321196,
      "pre_id_acc_barrier": 0.8407,
      "pre_ood_acc_barrier": 0.7515999999999999,
      "post_id_loss_barrier": 0.8377716168522834,
      "post_ood_loss_barrier": 0.77109902882576,
      "post_id_acc_barrier": 0.2881,
      "post_ood_acc_barrier": 0.25680000000000003
    },
    "A1-R1": {
      "type": "spurious-robust",
      "pre_id_loss_barrier": 2.2660099600166084,
      "pre_ood_loss_barrier": 1.366063699054718,
      "pre_id_acc_barrier": 0.7596,
      "pre_ood_acc_barrier": 0.4713,
      "post_id_loss_barrier": 2.056686322796345,
      "post_ood_loss_barrier": 1.2833946999549866,
      "post_id_acc_barrier": 0.6572,
      "post_ood_acc_barrier": 0.3757
    }
  },
  "srs_interpolation": {
    "pair": "A1-R1",
    "alphas": [
      0.0,
      0.2,
      0.4,
      0.6000000000000001,
      0.8,
      1.0
    ],
    "srs_values": [
      0.11021999999999998,
      0.14146000000000003,
      0.06883,
      0.03680999999999999,
      0.14903,
      0.43274999999999997
    ],
    "semantic_barrier": 0.234675,
    "semantic_barrier_alpha": 0.6000000000000001
  },
  "A1-A2_pre": {
    "id_losses": [
      0.09547644151374697,
      0.12433510062992573,
      0.2853963157892227,
      0.7091964776992797,
      1.3303063308715821,
      1.9147815185546875,
      2.3054550632476807,
      2.5003052101135252,
      2.569752925491333,
      2.5851067848205567,
      2.5888756950378418,
      2.5889930770874026,
      2.5517413791656494,
      2.408754350280762,
      2.090652913284302,
      1.5860668506622315,
      0.9845505800247193,
      0.48292638339996335,
      0.21050425276756288,
      0.11765913592875003,
      0.10182878443971276
    ],
    "id_accuracies": [
      0.9733,
      0.9678,
      0.9309,
      0.7844,
      0.5631,
      0.3619,
      0.246,
      0.1759,
      0.1309,
      0.1247,
      0.1482,
      0.1014,
      0.1072,
      0.1417,
      0.2344,
      0.4279,
      0.7015,
      0.8949,
      0.9567,
      0.9688,
      0.9732
    ],
    "ood_losses": [
      1.0884202383041381,
      1.1438827110290528,
      1.2946416128158569,
      1.5361676168441774,
      1.8643094245910645,
      2.2069622367858885,
      2.4545486724853514,
      2.5752240364074708,
      2.6079917961120604,
      2.605943962097168,
      2.6042250003814695,
      2.6093216594696047,
      2.590652111053467,
      2.496318797302246,
      2.2881909797668456,
      1.98432412109375,
      1.6573613647460939,
      1.3889941932678223,
      1.2164796918869019,
      1.13295517578125,
      1.1160068335533142
    ],
    "ood_accuracies": [
      0.6421,
      0.6062,
      0.5492,
      0.4713,
      0.3791,
      0.2779,
      0.2085,
      0.1551,
      0.1243,
      0.1189,
      0.1451,
      0.1028,
      0.1041,
      0.1345,
      0.207,
      0.3121,
      0.4399,
      0.5297,
      0.5831,
      0.6143,
      0.6411
    ],
    "alphas": [
      0.0,
      0.05,
      0.1,
      0.15000000000000002,
      0.2,
      0.25,
      0.30000000000000004,
      0.35000000000000003,
      0.4,
      0.45,
      0.5,
      0.55,
      0.6000000000000001,
      0.65,
      0.7000000000000001,
      0.75,
      0.8,
      0.8500000000000001,
      0.9,
      0.9500000000000001,
      1.0
    ]
  },
  "A1-A2_post": {
    "id_losses": [
      0.09494990152753889,
      0.09810112812370061,
      0.11463857509493827,
      0.15460264292359352,
      0.2291672575712204,
      0.34393115921020506,
      0.48823093929290773,
      0.6353703388214111,
      0.7536538754463196,
      0.8199738478660583,
      0.8250278507232666,
      0.7712547342300415,
      0.6695453948974609,
      0.5407181668281555,
      0.40839696187973024,
      0.29161521077156066,
      0.20358892823457717,
      0.1469603017628193,
      0.11679703664183616,
      0.10422810736745595,
      0.10182878443971276
    ],
    "id_accuracies": [
      0.9734,
      0.9728,
      0.9703,
      0.9596,
      0.9378,
      0.9026,
      0.8508,
      0.7964,
      0.743,
      0.7196,
      0.7209,
      0.7468,
      0.7916,
      0.8416,
      0.8873,
      0.9254,
      0.9487,
      0.9633,
      0.9697,
      0.9717,
      0.9732
    ],
    "ood_losses": [
      1.0491943955421448,
      1.1044791343688964,
      1.1888109663009643,
      1.2910752391815186,
      1.3998007076263428,
      1.5046285373687744,
      1.5959960453033448,
      1.6671615156173707,
      1.71294452419281,
      1.730238388633728,
      1.717700656890869,
      1.6779303161621093,
      1.6161494285583495,
      1.539148959350586,
      1.4546761196136475,
      1.3695652074813842,
      1.2898365280151367,
      1.2210611852645874,
      1.1675404371261597,
      1.1322390232086181,
      1.1160068335533142
    ],
    "ood_accuracies": [
      0.6545,
      0.6286,
      0.601,
      0.5688,
      0.534,
      0.5017,
      0.4752,
      0.4542,
      0.4399,
      0.4352,
      0.4413,
      0.4552,
      0.4762,
      0.5012,
      0.5275,
      0.5522,
      0.574,
      0.5951,
      0.611,
      0.6282,
      0.6411
    ],
    "alphas": [
      0.0,
      0.05,
      0.1,
      0.15000000000000002,
      0.2,
      0.25,
      0.30000000000000004,
      0.35000000000000003,
      0.4,
      0.45,
      0.5,
      0.55,
      0.6000000000000001,
      0.65,
      0.7000000000000001,
      0.75,
      0.8,
      0.8500000000000001,
      0.9,
      0.9500000000000001,
      1.0
    ]
  },
  "R1-R2_pre": {
    "id_losses": [
      0.18617209408283233,
      0.2101833936929703,
      0.30576309714317323,
      0.5649390523910522,
      1.0816693904876709,
      1.727607187271118,
      2.228360845184326,
      2.4881290023803713,
      2.589735860824585,
      2.629736011886597,
      2.652413310623169,
      2.666593267059326,
      2.650739505004883,
      2.549828349304199,
      2.27403101272583,
      1.7604913080215454,
      1.131594766998291,
      0.63331630859375,
      0.3499659649372101,
      0.2199021467924118,
      0.177070138707757
    ],
    "id_accuracies": [
      0.9398,
      0.9295,
      0.9015,
      0.8216,
      0.6565,
      0.4347,
      0.2319,
      0.1317,
      0.1033,
      0.0996,
      0.0994,
      0.0996,
      0.0991,
      0.1252,
      0.1871,
      0.3706,
      0.6107,
      0.7895,
      0.8866,
      0.9268,
      0.9435
    ],
    "ood_losses": [
      0.450856911945343,
      0.4638507150650024,
      0.5723571927070618,
      0.8412368851661682,
      1.3104540325164795,
      1.8658678552627563,
      2.291596176147461,
      2.508637117767334,
      2.5898023979187013,
      2.6223493949890138,
      2.6448324295043943,
      2.660104256439209,
      2.6470633995056154,
      2.5578281562805176,
      2.316520641326904,
      1.8769386959075929,
      1.349713154411316,
      0.9187882286071777,
      0.6405345808029175,
      0.49625551300048826,
      0.45894599890708926
    ],
    "ood_accuracies": [
      0.8535,
      0.8416,
      0.8068,
      0.7221,
      0.5785,
      0.3909,
      0.2115,
      0.1229,
      0.1016,
      0.0995,
      0.0994,
      0.0987,
      0.0974,
      0.1152,
      0.1839,
      0.3452,
      0.5366,
      0.6804,
      0.7805,
      0.8365,
      0.849
    ],
    "alphas": [
      0.0,
      0.05,
      0.1,
      0.15000000000000002,
      0.2,
      0.25,
      0.30000000000000004,
      0.35000000000000003,
      0.4,
      0.45,
      0.5,
      0.55,
      0.6000000000000001,
      0.65,
      0.7000000000000001,
      0.75,
      0.8,
      0.8500000000000001,
      0.9,
      0.9500000000000001,
      1.0
    ]
  },
  "R1-R2_post": {
    "id_losses": [
      0.1868663611292839,
      0.2000500522136688,
      0.22791897809505463,
      0.2765897759914398,
      0.3547616478443146,
      0.4666177230834961,
      0.6062826170921326,
      0.7569347840309143,
      0.8934072185516357,
      0.9880262428283692,
      1.0246379779815673,
      0.9991919742584229,
      0.9175017492294312,
      0.7932801881790161,
      0.6476227729797364,
      0.5045968053817749,
      0.38377876691818236,
      0.2920052333116531,
      0.22978753147125244,
      0.19275495188236236,
      0.177070138707757
    ],
    "id_accuracies": [
      0.9394,
      0.9339,
      0.9225,
      0.9063,
      0.8797,
      0.842,
      0.7934,
      0.7425,
      0.6978,
      0.6629,
      0.6513,
      0.6611,
      0.6878,
      0.7262,
      0.7767,
      0.8286,
      0.8719,
      0.9003,
      0.9233,
      0.9365,
      0.9435
    ],
    "ood_losses": [
      0.4537656128406525,
      0.45554091663360596,
      0.48092695288658144,
      0.5331357577323913,
      0.6155245737075805,
      0.7274864713668823,
      0.8595026173591613,
      0.9958995414733887,
      1.114975950241089,
      1.1969001316070558,
      1.2300450277328492,
      1.2108692169189452,
      1.1424227947235108,
      1.0350797603607178,
      0.9053863586425781,
      0.7718017108917237,
      0.6524388369560241,
      0.5585272572994232,
      0.4954305584907532,
      0.4624338723182678,
      0.45894599890708926
    ],
    "ood_accuracies": [
      0.8539,
      0.8486,
      0.8403,
      0.8192,
      0.7883,
      0.7503,
      0.7079,
      0.664,
      0.6256,
      0.6019,
      0.5922,
      0.5967,
      0.6165,
      0.6492,
      0.6905,
      0.7363,
      0.7784,
      0.8136,
      0.837,
      0.8502,
      0.849
    ],
    "alphas": [
      0.0,
      0.05,
      0.1,
      0.15000000000000002,
      0.2,
      0.25,
      0.30000000000000004,
      0.35000000000000003,
      0.4,
      0.45,
      0.5,
      0.55,
      0.6000000000000001,
      0.65,
      0.7000000000000001,
      0.75,
      0.8,
      0.8500000000000001,
      0.9,
      0.9500000000000001,
      1.0
    ]
  },
  "A1-R1_pre": {
    "id_losses": [
      0.177070138707757,
      0.20116895895004272,
      0.2729444972157478,
      0.41493416604995725,
      0.6549142019271851,
      0.9981702575683594,
      1.3971500720977783,
      1.7728031894683838,
      2.0637835521697996,
      2.254649591064453,
      2.3656692768096925,
      2.42242571182251,
      2.4430800987243653,
      2.4350348220825193,
      2.3890730930328368,
      2.2683808769226075,
      2.0084351600646975,
      1.5199674858093262,
      0.7902463905334473,
      0.21703717777729034,
      0.10182878443971276
    ],
    "id_accuracies": [
      0.9435,
      0.9326,
      0.9115,
      0.8621,
      0.7753,
      0.6581,
      0.536,
      0.4184,
      0.2999,
      0.214,
      0.1839,
      0.1989,
      0.2322,
      0.2597,
      0.2908,
      0.3277,
      0.386,
      0.5079,
      0.7359,
      0.9446,
      0.9732
    ],
    "ood_losses": [
      0.45894599890708926,
      0.47957791304588315,
      0.5685726981163025,
      0.7360839380264282,
      0.9824532098770141,
      1.2871777751922608,
      1.6153620763778687,
      1.9212262447357178,
      2.1606482627868653,
      2.318146183013916,
      2.409820890045166,
      2.4579556758880616,
      2.4791433601379396,
      2.482070532608032,
      2.4659229579925537,
      2.40802096824646,
      2.2709432193756105,
      2.02100765914917,
      1.661252226638794,
      1.3022605180740356,
      1.1160068335533142
    ],
    "ood_accuracies": [
      0.849,
      0.8392,
      0.8067,
      0.7458,
      0.663,
      0.5744,
      0.4825,
      0.3844,
      0.2754,
      0.199,
      0.1698,
      0.1755,
      0.1995,
      0.2277,
      0.2495,
      0.2769,
      0.3124,
      0.3751,
      0.4819,
      0.5795,
      0.6411
    ],
    "alphas": [
      0.0,
      0.05,
      0.1,
      0.15000000000000002,
      0.2,
      0.25,
      0.30000000000000004,
      0.35000000000000003,
      0.4,
      0.45,
      0.5,
      0.55,
      0.6000000000000001,
      0.65,
      0.7000000000000001,
      0.75,
      0.8,
      0.8500000000000001,
      0.9,
      0.9500000000000001,
      1.0
    ]
  },
  "A1-R1_post": {
    "id_losses": [
      0.177421229159832,
      0.19035353977680206,
      0.23903042283058165,
      0.3421189423561096,
      0.52645882396698,
      0.8092038288116455,
      1.1676714225769043,
      1.5343290380477905,
      1.8422427116394042,
      2.059832024002075,
      2.1862653495788575,
      2.2341075519561766,
      2.2155243000030516,
      2.138103559112549,
      1.998536587524414,
      1.7794310245513916,
      1.448063383102417,
      0.9891457943916321,
      0.4810843558311462,
      0.1614280172586441,
      0.10182878443971276
    ],
    "id_accuracies": [
      0.943,
      0.9362,
      0.9206,
      0.8845,
      0.8162,
      0.7083,
      0.5777,
      0.473,
      0.3946,
      0.3433,
      0.311,
      0.291,
      0.2858,
      0.2962,
      0.3207,
      0.3758,
      0.4805,
      0.6498,
      0.8462,
      0.9617,
      0.9732
    ],
    "ood_losses": [
      0.4609622394323349,
      0.4730669277667999,
      0.5443985512733459,
      0.6898111592292786,
      0.9204170984268188,
      1.2256012208938598,
      1.5606005666732787,
      1.8697525428771973,
      2.1129490970611573,
      2.278095931625366,
      2.36943837852478,
      2.3994015335083008,
      2.3803291767120363,
      2.322607587432861,
      2.231455882263184,
      2.1067678985595704,
      1.9415953346252441,
      1.7294971982955933,
      1.4830715757369994,
      1.2496572650909423,
      1.1160068335533142
    ],
    "ood_accuracies": [
      0.8491,
      0.8428,
      0.8164,
      0.7639,
      0.6781,
      0.5723,
      0.4729,
      0.39,
      0.3372,
      0.3006,
      0.2806,
      0.2693,
      0.2654,
      0.2696,
      0.2861,
      0.3091,
      0.3483,
      0.4317,
      0.5161,
      0.5881,
      0.6411
    ],
    "alphas": [
      0.0,
      0.05,
      0.1,
      0.15000000000000002,
      0.2,
      0.25,
      0.30000000000000004,
      0.35000000000000003,
      0.4,
      0.45,
      0.5,
      0.55,
      0.6000000000000001,
      0.65,
      0.7000000000000001,
      0.75,
      0.8,
      0.8500000000000001,
      0.9,
      0.9500000000000001,
      1.0
    ]
  },
  "mechanism_distance_analysis": {
    "description": "Analysis of whether mechanism distance predicts barrier height",
    "metrics": {
      "cka_n_samples": 2000,
      "cka_layers": [
        "block2",
        "block3",
        "fc1"
      ],
      "srs_weights": {
        "ood_drop": 0.4,
        "acc_drop_cf": 0.3,
        "flip_rate": 0.3
      }
    },
    "pair_distances": {
      "A1-A2": {
        "pair_type": "spurious-spurious",
        "dist_srs": 0.023339999999999916,
        "dist_cka": 0.07199360926946008,
        "dist_sv": 0.821059063076973,
        "srs_a": 0.43274999999999997,
        "srs_b": 0.40941000000000005,
        "cka_per_layer": {
          "block2": 0.9503004550933838,
          "block3": 0.9238501787185669,
          "fc1": 0.9098685383796692
        }
      },
      "R1-R2": {
        "pair_type": "robust-robust",
        "dist_srs": 0.008830000000000046,
        "dist_cka": 0.10357105731964111,
        "dist_sv": 0.7978753447532654,
        "srs_a": 0.11064000000000002,
        "srs_b": 0.10180999999999997,
        "cka_per_layer": {
          "block2": 0.9395041465759277,
          "block3": 0.876296877861023,
          "fc1": 0.873485803604126
        }
      },
      "A1-R1": {
        "pair_type": "spurious-robust",
        "dist_srs": 0.32210999999999995,
        "dist_cka": 0.2294767300287882,
        "dist_sv": 0.8046410605311394,
        "srs_a": 0.43274999999999997,
        "srs_b": 0.11064000000000002,
        "cka_per_layer": {
          "block2": 0.8171348571777344,
          "block3": 0.683236837387085,
          "fc1": 0.8111981153488159
        }
      }
    },
    "correlations": {
      "barrier_id_raw_vs_dist_srs": {
        "pearson_r": -0.9976992741893751,
        "pearson_ci": [
          NaN,
          NaN
        ],
        "pearson_p": 0.043192749868584436,
        "spearman_rho": -0.5,
        "spearman_ci": [
          NaN,
          NaN
        ],
        "spearman_p": 0.6666666666666667,
        "n_samples": 3
      },
      "barrier_id_raw_vs_dist_cka": {
        "pearson_r": -0.9866071063171191,
        "pearson_ci": [
          NaN,
          NaN
        ],
        "pearson_p": 0.10430814714256353,
        "spearman_rho": -1.0,
        "spearman_ci": [
          NaN,
          NaN
        ],
        "spearman_p": 0.0,
        "n_samples": 3
      },
      "barrier_ood_raw_vs_dist_srs": {
        "pearson_r": -0.6491951367143272,
        "pearson_ci": [
          NaN,
          NaN
        ],
        "pearson_p": 0.5502117101698051,
        "spearman_rho": -1.0,
        "spearman_ci": [
          NaN,
          NaN
        ],
        "spearman_p": 0.0,
        "n_samples": 3
      },
      "barrier_ood_raw_vs_dist_cka": {
        "pearson_r": -0.4571889739810854,
        "pearson_ci": [
          NaN,
          NaN
        ],
        "pearson_p": 0.6977126071809537,
        "spearman_rho": -0.5,
        "spearman_ci": [
          NaN,
          NaN
        ],
        "spearman_p": 0.6666666666666667,
        "n_samples": 3
      },
      "barrier_id_rebasin_vs_dist_srs": {
        "pearson_r": 0.99297153565793,
        "pearson_ci": [
          NaN,
          NaN
        ],
        "pearson_p": 0.07552314044400267,
        "spearman_rho": 0.5,
        "spearman_ci": [
          NaN,
          NaN
        ],
        "spearman_p": 0.6666666666666667,
        "n_samples": 3
      },
      "barrier_id_rebasin_vs_dist_cka": {
        "pearson_r": 0.993615253104607,
        "pearson_ci": [
          NaN,
          NaN
        ],
        "pearson_p": 0.07197775656714421,
        "spearman_rho": 1.0,
        "spearman_ci": [
          NaN,
          NaN
        ],
        "spearman_p": 0.0,
        "n_samples": 3
      },
      "barrier_ood_rebasin_vs_dist_srs": {
        "pearson_r": 0.9645454237613859,
        "pearson_ci": [
          NaN,
          NaN
        ],
        "pearson_p": 0.17002893598495025,
        "spearman_rho": 0.5,
        "spearman_ci": [
          NaN,
          NaN
        ],
        "spearman_p": 0.6666666666666667,
        "n_samples": 3
      },
      "barrier_ood_rebasin_vs_dist_cka": {
        "pearson_r": 0.9993739468348635,
        "pearson_ci": [
          NaN,
          NaN
        ],
        "pearson_p": 0.022528038973801033,
        "spearman_rho": 1.0,
        "spearman_ci": [
          NaN,
          NaN
        ],
        "spearman_p": 0.0,
        "n_samples": 3
      }
    },
    "regressions": {
      "barrier_id_raw": {
        "r_squared": 1.0,
        "intercept": 2.5310463329932933,
        "coefficients": {
          "dist_srs": -0.5052753904250088,
          "dist_cka": -0.4457189055903571
        }
      },
      "barrier_ood_raw": {
        "r_squared": 1.0,
        "intercept": 0.43551356061184987,
        "coefficients": {
          "dist_srs": -9.854679155418353,
          "dist_cka": 17.88783045967107
        }
      },
      "barrier_id_rebasin": {
        "r_squared": 1.0,
        "intercept": 0.34612811658370046,
        "coefficients": {
          "dist_srs": 2.0534096723314534,
          "dist_cka": 4.571855353378726
        }
      },
      "barrier_ood_rebasin": {
        "r_squared": 1.0,
        "intercept": 0.27379256564028687,
        "coefficients": {
          "dist_srs": -0.30492109071304263,
          "dist_cka": 4.827593049218105
        }
      }
    }
  }
}